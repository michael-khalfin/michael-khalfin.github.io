<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Michael Khalfin</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --text-primary: #2c3e50;
            --text-secondary: #5a6c7d;
            --accent: #3498db;
            --border: #e1e8ed;
            --nav-bg: #ffffff;
            --visited: #3498db;
            --visited-hover: #2980b9;
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --text-primary: #e4e4e4;
            --text-secondary: #b0b0b0;
            --accent: #5dade2;
            --border: #404040;
            --nav-bg: #1a1a1a;
            --visited: #5dade2;
            --visited-hover: #85c1e9;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        nav {
            background-color: var(--nav-bg);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        nav .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav .logo {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        nav a {
            text-decoration: none;
            color: var(--text-secondary);
            transition: color 0.3s ease;
            font-weight: 500;
        }

        nav a:hover, nav a.active {
            color: var(--accent);
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.3rem;
            color: var(--text-primary);
            padding: 0.5rem;
            border-radius: 50%;
            transition: background-color 0.3s ease;
        }

        .theme-toggle:hover {
            background-color: var(--bg-secondary);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .hero {
            display: flex;
            gap: 3rem;
            align-items: center;
            margin-bottom: 3rem;
        }

        .profile-photo {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--border);
            flex-shrink: 0;
        }

        .profile-photo-placeholder {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: var(--bg-secondary);
            border: 3px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-align: center;
            padding: 1rem;
            flex-shrink: 0;
        }

        .hero-content h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .hero-content p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        .contact-links {
            display: flex;
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .contact-links a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 500;
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
        }

        h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .slideshow-embed {
            width: 100%;
            height: 800px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--bg-secondary);
        }

        .cv-embed {
            width: 100%;
            height: 800px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--bg-secondary);
        }

        .demo-placeholder {
            background: var(--bg-secondary);
            border: 2px dashed var(--border);
            border-radius: 8px;
            padding: 3rem;
            text-align: center;
            color: var(--text-secondary);
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .demo-placeholder h3 {
            margin-bottom: 1rem;
        }

        .world-map-container {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .world-map {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            display: block;
        }

        .map-legend {
            text-align: center;
            margin-top: 1rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .country {
            fill: #ddd;
            stroke: #fff;
            stroke-width: 0.5;
            transition: fill 0.3s ease;
        }

        [data-theme="dark"] .country {
            fill: #444;
            stroke: #666;
        }

        .country.visited {
            fill: var(--visited);
        }

        .country.visited:hover {
            fill: var(--visited-hover);
        }

        .tooltip {
            position: absolute;
            padding: 8px 12px;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 4px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-size: 0.9rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .travel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .travel-card {
            background: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .travel-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }

        .travel-card .image-placeholder {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--accent) 0%, #2980b9 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
        }

        .travel-card .content {
            padding: 1.5rem;
        }

        .travel-card h3 {
            margin-bottom: 0.5rem;
        }

        .travel-card p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .books-section {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .books-intro {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            font-size: 1.05rem;
        }

        .books-list {
            list-style: none;
            display: grid;
            gap: 1rem;
        }

        .books-list li {
            padding: 1rem;
            background: var(--bg-primary);
            border-radius: 6px;
            border-left: 3px solid var(--accent);
        }

        .book-title {
            font-weight: 600;
            color: var(--text-primary);
        }

        .book-author {
            color: var(--text-secondary);
            font-style: italic;
        }

        @media (max-width: 768px) {
            .hero {
                flex-direction: column;
                text-align: center;
            }

            nav ul {
                gap: 1rem;
                font-size: 0.9rem;
            }

            .travel-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="tooltip" id="tooltip"></div>
    
    <nav>
        <div class="container">
            <div class="logo">Michael Khalfin</div>
            <ul>
                <li><a href="#home" class="nav-link active">Home</a></li>
                <li><a href="#cv" class="nav-link">CV</a></li>
                <li><a href="#slides" class="nav-link">Slides</a></li>
                <li><a href="#demo1" class="nav-link">Demo 1</a></li>
                <li><a href="#demo2" class="nav-link">Demo 2</a></li>
                <li><a href="#reading-list" class="nav-link">Reading List</a></li>
                <li><a href="#about" class="nav-link">About Me</a></li>
                <li><button class="theme-toggle" id="themeToggle">üåô</button></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="hero">
                <img src="images/web_profile.jpg" alt="Michael Khalfin" class="profile-photo">
                <div class="hero-content">
                    <h1>Michael Khalfin</h1>
                    <p>Fourth-year student at Rice University</p>
                    <p>B.S. Operations Research | B.A. Mathematics</p>
                    <p style="margin-top: 1.5rem;">I am broadly interested in mathematical programming, online algorithms, and optimization under uncertainty.</p>
                    <div class="contact-links">
                        <a href="mailto:mlkpad14@gmail.com">mlkpad14@gmail.com</a>
                    </div>
                </div>
            </div>
            
            <h2>Summary</h2>
            <p style="color: var(--text-secondary); line-height: 1.8; font-size: 1.05rem;">
                I'm a fourth-year undergraduate at Rice University graduating in May 2026 with a B.S. in Operations Research and a B.A. in Mathematics. I spent Spring 2024 studying abroad at Budapest Semesters in Mathematics, where I deepened my understanding of discrete math and combinatorics.
            </p>
            <p style="color: var(--text-secondary); line-height: 1.8; font-size: 1.05rem; margin-top: 1rem;">
                My research focuses on interpretable algorithms and data-driven optimization. Inspired by my mentors, Sebastian Perez-Salazar and Emma Savannah Johnson, and my incredible team at Sandia National Labs, I am developing a framework called DIAL: Data-driven Interpretability of Algorithm Logic. 
            </p>
            <p style="color: var(--text-secondary); line-height: 1.8; font-size: 1.05rem; margin-top: 1rem;">
                The goal of DIAL is to understand algorithms using polyhedral abstract interpretation. Once we have embedded or over-approximated an algorithm as a polytope, we can equip this polytope with an objective to optimize, resulting in a linear program (LP). The framework is named 'DIAL' because it allows us to systematically probe this LP. By "turning a dial," we can decide how much to interdict the optimization. This traces the full spectrum of performance‚Äîfrom the unconstrained optimum (the max solution) to the fully adversarial, worst-case outcome (the min-max solution). This process maps out a multi-dimensional response surface, where the algorithm's objective value is a direct function of the interdiction strategy.
            </p>
            <p style="color: var(--text-secondary); line-height: 1.8; font-size: 1.05rem; margin-top: 1rem;">
                This website contains several of my research ideas surrounding DIAL, including slides, a demo on ordinal threshold algorithms for k-secretary, and applications to neural network interpretability.
            </p>
        </div>

        <!-- CV Page -->
        <div id="cv" class="page">
            <h2>Curriculum Vitae</h2>
            <div class="cv-embed">
                <!-- Replace with your CV PDF -->
                <embed src="cv.pdf" type="application/pdf" width="100%" height="100%">
            </div>
        </div>

        <div id="slides" class="page">
            <h2>Sandia National Laboratories Slides</h2>
            <div class="slideshow-embed">
                <embed src="Uncertainty_Quantification_for_Systems.pdf" type="application/pdf" width="100%" height="100%">
            </div>
            <p style="color: var(--text-secondary); margin-top: 1rem; font-size: 1rem;">
                PDF slideshow summarizing some of my Sandia National Laboratories work.
            </p>
        </div>

        <!-- Demo 1 Page -->
        <div id="demo1" class="page">
            <iframe src="demo1.html" style="width: 100%; height: 100vh; border: none;"></iframe>
        </div>

        <!-- Demo 2 Page -->
        <div id="demo2" class="page">
            <h2>Research Demo 2</h2>
            <div class="demo-placeholder">
                <h3>Interactive Demo Placeholder</h3>
                <p>Coming soon!</p>
            </div>
        </div>

        <!-- Reading List Page -->
        <div id="reading-list" class="page">
            <iframe src="papers_graph.html" style="width: 100%; height: 100vh; border: none;"></iframe>
        </div>

        <!-- About Me Page -->
        <div id="about" class="page">
            <h2>About Me</h2>
            
            <!-- <h3>Where I've Traveled</h3> -->
            <!-- <div class="world-map-container"> -->
            <!-- <img src="images/map.png" alt="Map" class="world-map"> -->
            <!-- </div> -->

            <!-- <br> -->
            <h3>Travel Stories</h3>
            <div class="travel-grid">
                <div class="travel-card">
                    <img src="images/travel1.jpg" alt="Story 1">
                    <div class="content">
                        <h3>Harvesting Flowers in Alaska</h3>
                        <p>For several weeks, I worked on a small peonies farm in Homer, AK. We picked, cleaned, and packed the flowers for shipping. The living experience was really rustic. It was nice to live in nature, as it felt peaceful and restful.</p>
                    </div>
                </div>

                <div class="travel-card">
                    <img src="images/travel2.jpg" alt="Story 2">
                    <div class="content">
                        <h3>Chess @ Sz√©chenyi Bath</h3>
                        <p>My first time meeting "chess tourists" was in the Hungarian thermal bath house. They were visiting from Denmark and Moldova. My friend and I and three Kazakh college students were their challengers; we had a tournament lasting several hours!</p>
                    </div>
                </div>

                <div class="travel-card">
                    <img src="images/travel3.jpg" alt="Story 3">
                    <div class="content">
                        <h3>Biking in Hungary</h3>
                        <p>My friend and I planned a trip to Eger. I assumed we were taking public transportation, but little did I know that we would cycle ~30 miles that day. During the cycling, we bought and drank a whole liter of grape juice.</p>
                    </div>
                </div>

                <div class="travel-card">
                    <img src="images/travel4.jpg" alt="Story 4">
                    <div class="content">
                        <h3>Traditional Bavarian Breakfast</h3>
                        <p>I was visiting my friend at the University of Regensburg for his 21st birthday. After a night of sports pubs and debauchery, he treated us to a traditional sausage, pretzel, and coffee breakfast.</p>
                    </div>
                </div>

                <div class="travel-card">
                    <img src="images/travel5.jpg" alt="Story 5">
                    <div class="content">
                        <h3>Polar Plunge</h3>
                        <p>One of my favorite activities is polar plunging. It is a test of my discipline and feels so great after a dry sauna. This picture is of me in a village near Stockholm in 33 degree Fahrenheit water.</p>
                    </div>
                </div>
            </div>

            <h3>Books I Love</h3>
            <div class="books-section">
                <p class="books-intro">
                    I enjoy reading many genres of books including philosophy, history, novels, and sci-fi.
                </p>
                <ul class="books-list">
                    <li>
                        <span class="book-title">The Unbearable Lightness of Being</span>
                        <span class="book-author">by Milan Kundera</span>
                    </li>
                    <li>
                        <span class="book-title">The Glass Bead Game</span>
                        <span class="book-author">by Hermann Hesse</span>
                    </li>
                    <li>
                        <span class="book-title">Zen and the Art of Motorcycle Maintenance</span>
                        <span class="book-author">by Robert Pirsig</span>
                    </li>
                    <li>
                        <span class="book-title">The Little Prince</span>
                        <span class="book-author">by Antoine de Saint-Exup√©ry</span>
                    </li>
                    <li>
                        <span class="book-title">The Housekeeper and the Professor</span>
                        <span class="book-author">by Y≈çko Ogawa</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        
        const currentTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', currentTheme);
        themeToggle.textContent = currentTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';

        themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            themeToggle.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        });

        // Hash-based navigation
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page');

        function showPage(hash) {
            // Remove # from hash, default to 'home' if no hash
            const targetId = hash ? hash.substring(1) : 'home';

            // Check if the target page exists
            const targetPage = document.getElementById(targetId);
            if (!targetPage) return;

            // Update active states
            navLinks.forEach(l => l.classList.remove('active'));
            const activeLink = document.querySelector(`.nav-link[href="#${targetId}"]`);
            if (activeLink) activeLink.classList.add('active');

            pages.forEach(page => page.classList.remove('active'));
            targetPage.classList.add('active');

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Handle navigation clicks
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                // Let the default behavior happen (hash will update)
                // The hashchange event will handle the page switch
            });
        });

        // Listen for hash changes
        window.addEventListener('hashchange', () => {
            showPage(window.location.hash);
        });

        // Show initial page based on URL hash
        showPage(window.location.hash || '#home');

        // Map tooltip
        const tooltip = document.getElementById('tooltip');
        const countries = document.querySelectorAll('.country');

        countries.forEach(country => {
            country.addEventListener('mouseenter', (e) => {
                const name = country.getAttribute('data-name');
                tooltip.textContent = name;
                tooltip.style.opacity = '1';
            });

            country.addEventListener('mousemove', (e) => {
                tooltip.style.left = (e.pageX + 10) + 'px';
                tooltip.style.top = (e.pageY + 10) + 'px';
            });

            country.addEventListener('mouseleave', () => {
                tooltip.style.opacity = '0';
            });
        });
    </script>
</body>
</html>